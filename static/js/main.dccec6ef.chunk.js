(this.webpackJsonp21block=this.webpackJsonp21block||[]).push([[0],{145:function(e,a,t){e.exports=t(231)},153:function(e,a,t){},154:function(e,a,t){},173:function(e,a,t){},218:function(e,a,t){},219:function(e,a,t){},231:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),l=t(9),s=t.n(l),c=t(125),o=t(27),u=t(39),i=(t(153),t(154),t(4)),m=t(45),E=t(30),p=t.n(E),d=t(70),b=t(89),g=t.n(b),f=t(239),h=Object(f.a)("LOGIN_REQUEST"),_=Object(f.a)("LOGIN_SUCCESS"),v=Object(f.a)("LOGIN_FAILURE"),w=Object(f.a)("LOGOUT"),N=Object(f.a)("REGISTER_REQUEST"),O=Object(f.a)("REGISTER_SUCCESS"),S=Object(f.a)("REGISTER_FAILURE"),k=function(){return function(){var e=Object(d.a)(p.a.mark((function e(a){var t,r,n,l,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(h()),e.prev=1,t=localStorage.getItem("token"),e.next=5,g.a.get("https://conduit.productionready.io/api/user",{headers:{Authorization:"Token ".concat(t)}});case 5:200===(r=e.sent).status&&(n=r.data.user,l=n.username,s=n.token,a(_({username:l,token:s}))),e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(1),a(v()),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(a){return e.apply(this,arguments)}}()},j=function(e){return function(){var a=Object(d.a)(p.a.mark((function a(t){var r,n,l,s;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t(h()),a.prev=1,a.next=4,g.a.post("https://conduit.productionready.io/api/users/login",{user:e});case 4:r=a.sent,n=r.data.user,l=n.token,s=n.username,200===r.status&&(localStorage.setItem("token",l),t(_({username:s,token:l}))),a.next=13;break;case 9:throw a.prev=9,a.t0=a.catch(1),t(v()),a.t0;case 13:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()},I=function(){return function(){var e=Object(d.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("token"),a(w());case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},x=function(e){return function(){var a=Object(d.a)(p.a.mark((function a(t){return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t(N()),a.prev=1,a.next=4,g.a.post("https://conduit.productionready.io/api/users",{user:e});case 4:200===a.sent.status&&t(O()),a.next=12;break;case 8:throw a.prev=8,a.t0=a.catch(1),t(S()),a.t0;case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()},R=t(67),y=t(237),T=t(108),C=t(234),U="/Blog-platform-with-router",q="".concat(U,"/login"),B="".concat(U,"/register"),L="".concat(U,"/articles"),W=(t(92),t(173),{signin:j});var G=Object(o.b)((function(e){return{username:e.user.username,token:e.user.token,signin:j,userStatus:e.user}}),W)((function(e){var a=e.token,t=e.signin;return e.userStatus,e.username,a?n.a.createElement(i.a,{to:L}):n.a.createElement("div",{className:"login-form"},n.a.createElement(R.b,{initialValues:{email:"",password:""},onSubmit:function(e){return t(e)}},(function(e){var a=e.values,t=e.errors,r=e.touched,l=e.handleChange,s=e.handleBlur,c=e.isSubmitting;return n.a.createElement("div",{className:c?"submitting-form":""},n.a.createElement(R.a,{className:"login-form___login"},n.a.createElement("label",null,"Email:",n.a.createElement(y.a,{required:!0,className:t.email&&r.email&&"error",name:"email",onChange:l,onBlur:s,value:a.email})),n.a.createElement("label",null,"\u041f\u0430\u0440\u043e\u043b\u044c:",n.a.createElement(y.a.Password,{required:!0,className:t.password&&r.password&&"error",name:"password",onChange:l,onBlur:s,value:a.password})),n.a.createElement(T.a,{className:"submit-button",type:"primary",htmlType:"submit"},"\u0412\u043e\u0439\u0442\u0438")),n.a.createElement(C.a,null),n.a.createElement(m.b,{className:"login-form__register",to:B},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"))})))})),J=(t(218),t(71)),D=J.a().shape({username:J.b().max(50,"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u043e\u0435 \u0438\u043c\u044f").required("\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"),email:J.b().email("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 email").required("\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"),password:J.b().min(8,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").max(40,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 40 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").required("\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f")}),A={registerUser:x};var V=Object(o.b)((function(e){return{registerUser:x,registerStatus:e.registerStatus,token:e.user.token}}),A)((function(e){var a=e.registerUser;return e.token?n.a.createElement(i.a,{to:L}):"register-success"===e.registerStatus?n.a.createElement(i.a,{to:q}):n.a.createElement("div",{className:"register-form"},n.a.createElement(R.b,{initialValues:{username:"",email:"",password:""},validationSchema:D,onSubmit:function(e){!function(e){a(e)}(e)}},(function(e){var a=e.values,t=e.errors,r=e.touched,l=e.handleChange,s=e.handleBlur,c=e.isSubmitting;return n.a.createElement("div",{className:c?"submitting-form":""},n.a.createElement(R.a,{className:"register-form___registration"},n.a.createElement("label",null,"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f:",n.a.createElement(y.a,{className:t.username&&r.username&&"error",required:!0,name:"username",onChange:l,onBlur:s,value:a.username})),n.a.createElement("label",null,"Email:",n.a.createElement(y.a,{className:t.email&&r.email&&"error",required:!0,name:"email",onChange:l,onBlur:s,value:a.email})),t.email&&r.email&&n.a.createElement("div",{className:"input-error"},t.email),n.a.createElement("label",null,"\u041f\u0430\u0440\u043e\u043b\u044c:",n.a.createElement(y.a.Password,{className:t.password&&r.password&&"error",required:!0,name:"password",onChange:l,onBlur:s,value:a.password}),t.password&&r.password&&n.a.createElement("div",{className:"input-error"},t.password)),n.a.createElement(T.a,{className:"submit-button",type:"primary",htmlType:"submit"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")),n.a.createElement(C.a,null),n.a.createElement(m.b,{className:"register-form__signin",as:T.a,to:q},"\u0412\u043e\u0439\u0442\u0438"))})))})),X=t(238),F=t(240),P=t(241),Q=(t(219),{signout:I});var z=Object(o.b)((function(e){return{userName:e.user.username,loggedIn:e.loggedIn,signout:I}}),Q)((function(e){if(!localStorage.getItem("token"))return n.a.createElement(i.a,{to:U});var a=e.signout,t=e.userName;return n.a.createElement("div",{className:"main"},n.a.createElement("header",{className:"main__header"},n.a.createElement("div",null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c: ",n.a.createElement(F.a,null),t),n.a.createElement(T.a,{className:"main__header__logout",onClick:a,to:U},n.a.createElement(P.a,null)," \u0412\u044b\u0439\u0442\u0438")),n.a.createElement("div",{className:"main__wall"},n.a.createElement("div",{className:"main__wall__post"},n.a.createElement("h3",null,"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u0430\u0433\u0438\u043d\u0430\u0446\u0438\u044e"),n.a.createElement("p",null,"\u041f\u043e\u0441\u0442\u044b")),n.a.createElement("div",{className:"main__wall__post"},n.a.createElement("h3",null,"\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043f\u043e\u0441\u0442\u044b \u0441 \u0410\u041f\u0418"),n.a.createElement("p",null,"\u041f\u043e\u0441\u0442\u044b")),n.a.createElement("div",{className:"main__wall__post"},n.a.createElement("h3",null,"\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0435 \u0440\u043e\u0443\u0442\u044b"),n.a.createElement("p",null,"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0435 \u0440\u043e\u0443\u0442\u044b")),n.a.createElement("div",{className:"main__wall__post"},n.a.createElement("h3",null,"\u041f\u041e\u0424\u0418\u041a\u0421\u0418\u0422\u042c \u041e\u0422\u041d\u041e\u0421\u0418\u0422\u0415\u041b\u042c\u041d\u042b\u0415 \u0420\u0410\u0417\u041c\u0415\u0420\u042b!!!!"),n.a.createElement("p",null,"\u041f\u041e\u0424\u0418\u041a\u0421\u0418\u0422\u042c \u041e\u0422\u041d\u041e\u0421\u0418\u0422\u0415\u041b\u042c\u041d\u042b\u0415 \u0420\u0410\u0417\u041c\u0415\u0420\u042b!!!!")),n.a.createElement("div",{className:"main__wall__post"},n.a.createElement("h3",null,"\u0414\u0435\u043a\u043b\u0430\u0440\u0430\u0442\u0438\u0432\u043d\u044b\u0439"),n.a.createElement("p",null,"\u0421\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0435 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b \u043d\u0430 React \u2014 \u043f\u0440\u0438\u044f\u0442\u043d\u043e \u0438 \u043f\u0440\u043e\u0441\u0442\u043e. \u0412\u0430\u043c \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043e\u043f\u0438\u0441\u0430\u0442\u044c, \u043a\u0430\u043a \u0447\u0430\u0441\u0442\u0438 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0432\u044b\u0433\u043b\u044f\u0434\u044f\u0442 \u0432 \u0440\u0430\u0437\u043d\u044b\u0445 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f\u0445. React \u0431\u0443\u0434\u0435\u0442 \u0441\u0432\u043e\u0435\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u0438\u0445 \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u0442\u044c, \u043a\u043e\u0433\u0434\u0430 \u0434\u0430\u043d\u043d\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u044f\u044e\u0442\u0441\u044f. \u0414\u0435\u043a\u043b\u0430\u0440\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0434\u0435\u043b\u0430\u044e\u0442 \u043a\u043e\u0434 \u0431\u043e\u043b\u0435\u0435 \u043f\u0440\u0435\u0434\u0441\u043a\u0430\u0437\u0443\u0435\u043c\u044b\u043c \u0438 \u0443\u043f\u0440\u043e\u0441\u0442\u044f\u0442 \u043e\u0442\u043b\u0430\u0434\u043a\u0443.")),n.a.createElement("div",{className:"main__wall__post"},n.a.createElement("h3",null,"\u041e\u0441\u043d\u043e\u0432\u0430\u043d \u043d\u0430 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430\u0445"),n.a.createElement("p",null,"\u0421\u043e\u0437\u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0438\u043d\u043a\u0430\u043f\u0441\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b \u0441 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u043c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435\u043c, \u0430 \u0437\u0430\u0442\u0435\u043c \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u044f\u0439\u0442\u0435 \u0438\u0445 \u0432 \u0441\u043b\u043e\u0436\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0435 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b. \u041f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443 \u043b\u043e\u0433\u0438\u043a\u0430 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0430 \u043d\u0430 JavaScript, \u0430 \u043d\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442\u0441\u044f \u0432 \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u0445, \u043c\u043e\u0436\u043d\u043e \u0441 \u043b\u0451\u0433\u043a\u043e\u0441\u0442\u044c\u044e \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0442\u044c \u0441\u0430\u043c\u044b\u0435 \u0440\u0430\u0437\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e \u0432\u0441\u0435\u043c\u0443 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044e \u0438 \u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0432\u043d\u0435 DOM.")),n.a.createElement("div",{className:"main__wall__post"},n.a.createElement("h3",null,"\u041d\u0430\u0443\u0447\u0438\u0442\u0435\u0441\u044c \u043e\u0434\u043d\u0430\u0436\u0434\u044b \u2014 \u043f\u0438\u0448\u0438\u0442\u0435 \u0433\u0434\u0435 \u0443\u0433\u043e\u0434\u043d\u043e"),n.a.createElement("p",null,"\u041d\u0430\u043c \u043d\u0435 \u043d\u0443\u0436\u043d\u043e \u043d\u0438\u0447\u0435\u0433\u043e \u0437\u043d\u0430\u0442\u044c \u043f\u0440\u043e \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u0443\u044e \u0447\u0430\u0441\u0442\u044c \u0432\u0430\u0448\u0435\u0433\u043e \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u0441\u0442\u0435\u043a\u0430, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0440\u0430\u0437\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043d\u0430 React, \u043d\u0435 \u0438\u0437\u043c\u0435\u043d\u044f\u044f \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u043a\u043e\u0434. React \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f Node.js \u0438 \u043d\u0430 \u043c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0445 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430\u0445, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f React Native."))),n.a.createElement(X.a,null))})),M=t(235),$={loginWithJWT:k};var H,K,Y=Object(o.b)((function(e){return{username:e.user.username,token:e.user.token,loginWithJWT:k,userStatus:e.user,registerStatus:e.registerStatus}}),$)((function(e){var a,t=e.loginWithJWT,r=e.token,l=(e.username,e.userStatus),s=e.registerStatus;return a=s,"error"===l&&M.a.error("\u041f\u0430\u0440\u0430 \u043b\u043e\u0433\u0438\u043d \u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"),"register-error"===a&&M.a.error("Email \u0438\u043b\u0438 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b!"),n.a.createElement(m.a,null,n.a.createElement("div",{className:"App"},n.a.createElement(i.d,null,n.a.createElement(i.b,{exact:!0,path:U},function(){var e=localStorage.getItem("token");return e||r?e&&!r?(t(e),n.a.createElement(i.a,{to:L})):n.a.createElement(i.a,{to:L}):n.a.createElement(i.a,{to:q})}()),n.a.createElement(i.b,{path:q,exact:!0,component:G}),n.a.createElement(i.b,{path:B,exact:!0,component:V}),n.a.createElement(i.b,{path:L,exact:!0,component:z}))))})),Z=t(44),ee=t(236),ae=Object(ee.a)((H={},Object(Z.a)(H,h,(function(e){return"requested"})),Object(Z.a)(H,_,(function(e,a){return a.payload})),Object(Z.a)(H,v,(function(e){return"error"})),Object(Z.a)(H,w,(function(e){return{}})),H),{}),te=Object(ee.a)((K={},Object(Z.a)(K,N,(function(e){return"requested"})),Object(Z.a)(K,O,(function(e){return"register-success"})),Object(Z.a)(K,S,(function(e){return"register-error"})),K),{}),re=Object(u.c)({user:ae,registerStatus:te});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ne=Object(u.e)(re,Object(u.d)(Object(u.a)(c.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));s.a.render(n.a.createElement(o.a,{classname:"store",store:ne},n.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[145,1,2]]]);
//# sourceMappingURL=main.dccec6ef.chunk.js.map