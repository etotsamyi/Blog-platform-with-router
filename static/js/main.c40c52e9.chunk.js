(this.webpackJsonp21block=this.webpackJsonp21block||[]).push([[0],{100:function(e,t,a){},119:function(e,t,a){},164:function(e,t,a){},165:function(e,t,a){},166:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),o=a.n(c),s=a(78),l=a(13),u=a(22),i=(a(99),a(100),a(3)),m=a(20),E=a(17),p=a.n(E),b=a(37),d=a(45),f=a.n(d),g=a(173),h=Object(g.a)("LOGIN_REQUEST"),v=Object(g.a)("LOGIN_SUCCESS"),O=Object(g.a)("LOGIN_FAILURE"),w=Object(g.a)("LOGOUT"),_=Object(g.a)("REGISTER_REQUEST"),k=Object(g.a)("REGISTER_SUCCESS"),N=Object(g.a)("REGISTER_FAILURE"),j=function(){return function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n,r,c,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(h()),e.prev=1,a=localStorage.getItem("token"),e.next=5,f.a.get("https://conduit.productionready.io/api/user",{headers:{Authorization:"Token ".concat(a)}});case 5:200===(n=e.sent).status&&(r=n.data.user,c=r.username,o=r.token,t(v({username:c,token:o}))),e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(1),t(O()),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(b.a)(p.a.mark((function t(a){var n,r,c,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(h()),t.prev=1,t.next=4,f.a.post("https://conduit.productionready.io/api/users/login",{user:e});case 4:n=t.sent,r=n.data.user,c=r.token,o=r.username,200===n.status&&(localStorage.setItem("token",c),a(v({username:o,token:c}))),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(1),a(O()),t.t0;case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},I=function(){return function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("token"),t(w());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},R=function(e){return function(){var t=Object(b.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(_()),t.prev=1,t.next=4,f.a.post("https://conduit.productionready.io/api/users",{user:e});case 4:200===t.sent.status&&a(k()),t.next=12;break;case 8:throw t.prev=8,t.t0=t.catch(1),a(N()),t.t0;case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},y=a(34),T=a(171),x=a(60),C=a(169),U=(a(46),a(119),{signin:S});var B=Object(l.b)((function(e){return{username:e.user.username,token:e.user.token,signin:S}}),U)((function(e){var t=e.token,a=e.signin;return t?r.a.createElement(i.a,{to:"/main"}):r.a.createElement("div",{className:"login-form"},r.a.createElement(y.b,{initialValues:{email:"",password:""},onSubmit:function(e){!function(e){a(e)}(e)}},(function(e){var t=e.values,a=e.errors,n=e.touched,c=e.handleChange,o=e.handleBlur,s=e.isSubmitting;return r.a.createElement("div",{className:s?"submitting-form":""},r.a.createElement(y.a,null,r.a.createElement("label",null,"Email:",r.a.createElement(T.a,{className:a.email&&n.email&&"error",name:"email",onChange:c,onBlur:o,value:t.email})),r.a.createElement("label",null,"\u041f\u0430\u0440\u043e\u043b\u044c:",r.a.createElement(T.a.Password,{className:a.password&&n.password&&"error",name:"password",onChange:c,onBlur:o,value:t.password})),r.a.createElement(x.a,{className:"submit-button",type:"primary",htmlType:"submit"},"\u0412\u043e\u0439\u0442\u0438")),r.a.createElement(C.a,null),r.a.createElement(m.b,{className:"login-form__register",to:"/signup"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"))})))})),L=(a(164),{registerUser:R});var W=Object(l.b)((function(e){return{registerUser:R,registerStatus:e.registerStatus,token:e.user.token}}),L)((function(e){var t=e.registerUser;return e.token?r.a.createElement(i.a,{to:"/main"}):"register-success"===e.registerStatus?r.a.createElement(i.a,{to:"/login"}):r.a.createElement("div",{className:"register-form"},r.a.createElement(y.b,{initialValues:{username:"",email:"",password:""},onSubmit:function(e){!function(e){t(e)}(e)}},(function(e){var t=e.values,a=e.errors,n=e.touched,c=e.handleChange,o=e.handleBlur,s=e.isSubmitting;return r.a.createElement("div",{className:s?"submitting-form":""},r.a.createElement(y.a,{className:"registration"},r.a.createElement("label",null,"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f:",r.a.createElement(T.a,{className:a.username&&n.username&&"error",name:"username",onChange:c,onBlur:o,value:t.username})),r.a.createElement("label",null,"Email:",r.a.createElement(T.a,{className:a.email&&n.email&&"error",name:"email",onChange:c,onBlur:o,value:t.email})),r.a.createElement("label",null,"\u041f\u0430\u0440\u043e\u043b\u044c:",r.a.createElement(T.a.Password,{className:a.password&&n.password&&"error",name:"password",onChange:c,onBlur:o,value:t.password})),r.a.createElement(x.a,{className:"submit-button",type:"primary",htmlType:"submit"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")),r.a.createElement(C.a,null),r.a.createElement(m.b,{className:"register-form__signin",as:x.a,to:"/login"},"\u0412\u043e\u0439\u0442\u0438"))})))})),G=a(172),J=(a(165),{signout:I});var D=Object(l.b)((function(e){return{userName:e.user.username,loggedIn:e.loggedIn,signout:I}}),J)((function(e){if(!localStorage.getItem("token"))return r.a.createElement(i.a,{to:"/"});var t=e.signout,a=e.userName;return r.a.createElement("div",{className:"main"},r.a.createElement("header",{className:"main__header"},r.a.createElement("div",null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c: ",r.a.createElement(G.a,null),a),r.a.createElement(m.b,{onClick:function(){t()},to:"/"},"\u0412\u044b\u0439\u0442\u0438")),r.a.createElement("div",{className:"main__wall"},r.a.createElement("div",{className:"main__wall__post"},r.a.createElement("h3",null,"\u0414\u0435\u043a\u043b\u0430\u0440\u0430\u0442\u0438\u0432\u043d\u044b\u0439"),r.a.createElement("p",null,"\u0421\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0435 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b \u043d\u0430 React \u2014 \u043f\u0440\u0438\u044f\u0442\u043d\u043e \u0438 \u043f\u0440\u043e\u0441\u0442\u043e. \u0412\u0430\u043c \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043e\u043f\u0438\u0441\u0430\u0442\u044c, \u043a\u0430\u043a \u0447\u0430\u0441\u0442\u0438 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0432\u044b\u0433\u043b\u044f\u0434\u044f\u0442 \u0432 \u0440\u0430\u0437\u043d\u044b\u0445 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f\u0445. React \u0431\u0443\u0434\u0435\u0442 \u0441\u0432\u043e\u0435\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u0438\u0445 \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u0442\u044c, \u043a\u043e\u0433\u0434\u0430 \u0434\u0430\u043d\u043d\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u044f\u044e\u0442\u0441\u044f. \u0414\u0435\u043a\u043b\u0430\u0440\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0434\u0435\u043b\u0430\u044e\u0442 \u043a\u043e\u0434 \u0431\u043e\u043b\u0435\u0435 \u043f\u0440\u0435\u0434\u0441\u043a\u0430\u0437\u0443\u0435\u043c\u044b\u043c \u0438 \u0443\u043f\u0440\u043e\u0441\u0442\u044f\u0442 \u043e\u0442\u043b\u0430\u0434\u043a\u0443.")),r.a.createElement("div",{className:"main__wall__post"},r.a.createElement("h3",null,"\u041e\u0441\u043d\u043e\u0432\u0430\u043d \u043d\u0430 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430\u0445"),r.a.createElement("p",null,"\u0421\u043e\u0437\u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0438\u043d\u043a\u0430\u043f\u0441\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b \u0441 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u043c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435\u043c, \u0430 \u0437\u0430\u0442\u0435\u043c \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u044f\u0439\u0442\u0435 \u0438\u0445 \u0432 \u0441\u043b\u043e\u0436\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0435 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b. \u041f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443 \u043b\u043e\u0433\u0438\u043a\u0430 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0430 \u043d\u0430 JavaScript, \u0430 \u043d\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442\u0441\u044f \u0432 \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u0445, \u043c\u043e\u0436\u043d\u043e \u0441 \u043b\u0451\u0433\u043a\u043e\u0441\u0442\u044c\u044e \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0442\u044c \u0441\u0430\u043c\u044b\u0435 \u0440\u0430\u0437\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e \u0432\u0441\u0435\u043c\u0443 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044e \u0438 \u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0432\u043d\u0435 DOM.")),r.a.createElement("div",{className:"main__wall__post"},r.a.createElement("h3",null,"\u041d\u0430\u0443\u0447\u0438\u0442\u0435\u0441\u044c \u043e\u0434\u043d\u0430\u0436\u0434\u044b \u2014 \u043f\u0438\u0448\u0438\u0442\u0435 \u0433\u0434\u0435 \u0443\u0433\u043e\u0434\u043d\u043e"),r.a.createElement("p",null,"\u041d\u0430\u043c \u043d\u0435 \u043d\u0443\u0436\u043d\u043e \u043d\u0438\u0447\u0435\u0433\u043e \u0437\u043d\u0430\u0442\u044c \u043f\u0440\u043e \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u0443\u044e \u0447\u0430\u0441\u0442\u044c \u0432\u0430\u0448\u0435\u0433\u043e \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u0441\u0442\u0435\u043a\u0430, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0440\u0430\u0437\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043d\u0430 React, \u043d\u0435 \u0438\u0437\u043c\u0435\u043d\u044f\u044f \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u043a\u043e\u0434. React \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f Node.js \u0438 \u043d\u0430 \u043c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0445 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430\u0445, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f React Native."))))})),A={loginWithJWT:j};var V,X,q=Object(l.b)((function(e){return{username:e.user.username,token:e.user.token,loginWithJWT:j}}),A)((function(e){var t=e.loginWithJWT,a=e.token;return r.a.createElement(m.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/"},function(){var e=localStorage.getItem("token");return e||a?e&&!a?(t(e),r.a.createElement(i.a,{to:"/main"})):r.a.createElement(i.a,{to:"/main"}):r.a.createElement(i.a,{to:"/login"})}()),r.a.createElement(i.b,{path:"/login",exact:!0,component:B}),r.a.createElement(i.b,{path:"/signup",exact:!0,component:W}),r.a.createElement(i.b,{path:"/main",exact:!0,component:D}))))})),F=a(24),P=a(170),Q=Object(P.a)((V={},Object(F.a)(V,h,(function(e){return"requested"})),Object(F.a)(V,v,(function(e,t){return t.payload})),Object(F.a)(V,O,(function(e){return"error"})),Object(F.a)(V,w,(function(e){return{}})),V),{}),z=Object(P.a)((X={},Object(F.a)(X,_,(function(e){return"requested"})),Object(F.a)(X,k,(function(e){return"register-success"})),Object(F.a)(X,N,(function(e){return"register-error"})),X),{}),M=Object(u.c)({user:Q,registerStatus:z});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var $=Object(u.e)(M,Object(u.d)(Object(u.a)(s.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));o.a.render(r.a.createElement(l.a,{classname:"store",store:$},r.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},91:function(e,t,a){e.exports=a(166)},99:function(e,t,a){}},[[91,1,2]]]);
//# sourceMappingURL=main.c40c52e9.chunk.js.map