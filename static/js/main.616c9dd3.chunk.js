(this.webpackJsonp21block=this.webpackJsonp21block||[]).push([[0],{101:function(e,t,a){e.exports=a(187)},109:function(e,t,a){},110:function(e,t,a){},129:function(e,t,a){},183:function(e,t,a){},184:function(e,t,a){},187:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),l=a.n(c),s=a(83),o=a(17),u=a(24),i=(a(109),a(110),a(3)),m=a(28),E=a(19),p=a.n(E),d=a(38),f=a(47),b=a.n(f),g=a(195),h=Object(g.a)("LOGIN_REQUEST"),_=Object(g.a)("LOGIN_SUCCESS"),v=Object(g.a)("LOGIN_FAILURE"),w=Object(g.a)("LOGOUT"),O=Object(g.a)("REGISTER_REQUEST"),N=Object(g.a)("REGISTER_SUCCESS"),k=Object(g.a)("REGISTER_FAILURE"),S=function(){return function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n,r,c,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(h()),e.prev=1,a=localStorage.getItem("token"),e.next=5,b.a.get("https://conduit.productionready.io/api/user",{headers:{Authorization:"Token ".concat(a)}});case 5:200===(n=e.sent).status&&(r=n.data.user,c=r.username,l=r.token,t(_({username:c,token:l}))),e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(1),t(v()),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(d.a)(p.a.mark((function t(a){var n,r,c,l;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(h()),t.prev=1,t.next=4,b.a.post("https://conduit.productionready.io/api/users/login",{user:e});case 4:n=t.sent,r=n.data.user,c=r.token,l=r.username,200===n.status&&(localStorage.setItem("token",c),a(_({username:l,token:c}))),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(1),a(v()),t.t0;case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},y=function(){return function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("token"),t(w());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},I=function(e){return function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(O()),t.prev=1,t.next=4,b.a.post("https://conduit.productionready.io/api/users",{user:e});case 4:200===t.sent.status&&a(N()),t.next=12;break;case 8:throw t.prev=8,t.t0=t.catch(1),a(k()),t.t0;case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},T=a(36),R=a(190),x=a(193),C=a(65),U=a(191),B="/Blog-platform-with-router",L="".concat(B,"/login"),W="".concat(B,"/register"),G="".concat(B,"/main"),J=(a(49),a(129),{signin:j});var q=Object(o.b)((function(e){return{username:e.user.username,token:e.user.token,signin:j,userStatus:e.user}}),J)((function(e){var t,a,n=e.token,c=e.signin,l=e.userStatus,s=e.username;return n?r.a.createElement(i.a,{to:G}):(a=s,"error"===(t=l)?R.a.error("\u041f\u0430\u0440\u0430 \u043b\u043e\u0433\u0438\u043d \u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"):"requested"!==t&&"error"!==t&&0!==Object.keys(t).length&&R.a.success("\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c ".concat(a)),r.a.createElement("div",{className:"login-form"},r.a.createElement(T.b,{initialValues:{email:"",password:""},onSubmit:function(e){!function(e){c(e)}(e)}},(function(e){var t=e.values,a=e.errors,n=e.touched,c=e.handleChange,l=e.handleBlur,s=e.isSubmitting;return r.a.createElement("div",{className:s?"submitting-form":""},r.a.createElement(T.a,{className:"login-form___login"},r.a.createElement("label",null,"Email:",r.a.createElement(x.a,{required:!0,className:a.email&&n.email&&"error",name:"email",onChange:c,onBlur:l,value:t.email,htmlType:"email"})),r.a.createElement("label",null,"\u041f\u0430\u0440\u043e\u043b\u044c:",r.a.createElement(x.a.Password,{required:!0,className:a.password&&n.password&&"error",name:"password",onChange:c,onBlur:l,value:t.password,htmlType:"password"})),r.a.createElement(C.a,{className:"submit-button",type:"primary",htmlType:"submit"},"\u0412\u043e\u0439\u0442\u0438")),r.a.createElement(U.a,null),r.a.createElement(m.b,{className:"login-form__register",to:W},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"))}))))})),D=(a(183),{registerUser:I});var A=Object(o.b)((function(e){return{registerUser:I,registerStatus:e.registerStatus,token:e.user.token}}),D)((function(e){var t=e.registerUser;return e.token?r.a.createElement(i.a,{to:G}):"register-success"===e.registerStatus?r.a.createElement(i.a,{to:L}):r.a.createElement("div",{className:"register-form"},r.a.createElement(T.b,{initialValues:{username:"",email:"",password:""},onSubmit:function(e){!function(e){t(e)}(e)}},(function(e){var t=e.values,a=e.errors,n=e.touched,c=e.handleChange,l=e.handleBlur,s=e.isSubmitting;return r.a.createElement("div",{className:s?"submitting-form":""},r.a.createElement(T.a,{className:"register-form___registration"},r.a.createElement("label",null,"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f:",r.a.createElement(x.a,{className:a.username&&n.username&&"error",name:"username",onChange:c,onBlur:l,value:t.username})),r.a.createElement("label",null,"Email:",r.a.createElement(x.a,{className:a.email&&n.email&&"error",name:"email",onChange:c,onBlur:l,value:t.email})),r.a.createElement("label",null,"\u041f\u0430\u0440\u043e\u043b\u044c:",r.a.createElement(x.a.Password,{className:a.password&&n.password&&"error",name:"password",onChange:c,onBlur:l,value:t.password})),r.a.createElement(C.a,{className:"submit-button",type:"primary",htmlType:"submit"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")),r.a.createElement(U.a,null),r.a.createElement(m.b,{className:"register-form__signin",as:C.a,to:L},"\u0412\u043e\u0439\u0442\u0438"))})))})),V=a(194),X=a(196),F=a(197),P=(a(184),{signout:y});var Q=Object(o.b)((function(e){return{userName:e.user.username,loggedIn:e.loggedIn,signout:y}}),P)((function(e){if(!localStorage.getItem("token"))return r.a.createElement(i.a,{to:B});var t=e.signout,a=e.userName;return r.a.createElement("div",{className:"main"},r.a.createElement("header",{className:"main__header"},r.a.createElement("div",null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c: ",r.a.createElement(X.a,null),a),r.a.createElement(C.a,{className:"main__header__logout",onClick:function(){t()},to:B},r.a.createElement(F.a,null)," \u0412\u044b\u0439\u0442\u0438")),r.a.createElement("div",{className:"main__wall"},r.a.createElement("div",{className:"main__wall__post"},r.a.createElement("h3",null,"\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043f\u043e\u0441\u0442\u044b \u0441 \u0410\u041f\u0418"),r.a.createElement("p",null,"\u041f\u043e\u0441\u0442\u044b")),r.a.createElement("div",{className:"main__wall__post"},r.a.createElement("h3",null,"\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0435 \u0440\u043e\u0443\u0442\u044b"),r.a.createElement("p",null,"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0435 \u0440\u043e\u0443\u0442\u044b")),r.a.createElement("div",{className:"main__wall__post"},r.a.createElement("h3",null,"\u041f\u041e\u0424\u0418\u041a\u0421\u0418\u0422\u042c \u041e\u0422\u041d\u041e\u0421\u0418\u0422\u0415\u041b\u042c\u041d\u042b\u0415 \u0420\u0410\u0417\u041c\u0415\u0420\u042b!!!!"),r.a.createElement("p",null,"\u041f\u041e\u0424\u0418\u041a\u0421\u0418\u0422\u042c \u041e\u0422\u041d\u041e\u0421\u0418\u0422\u0415\u041b\u042c\u041d\u042b\u0415 \u0420\u0410\u0417\u041c\u0415\u0420\u042b!!!!")),r.a.createElement("div",{className:"main__wall__post"},r.a.createElement("h3",null,"\u0414\u0435\u043a\u043b\u0430\u0440\u0430\u0442\u0438\u0432\u043d\u044b\u0439"),r.a.createElement("p",null,"\u0421\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0435 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b \u043d\u0430 React \u2014 \u043f\u0440\u0438\u044f\u0442\u043d\u043e \u0438 \u043f\u0440\u043e\u0441\u0442\u043e. \u0412\u0430\u043c \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043e\u043f\u0438\u0441\u0430\u0442\u044c, \u043a\u0430\u043a \u0447\u0430\u0441\u0442\u0438 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0432\u044b\u0433\u043b\u044f\u0434\u044f\u0442 \u0432 \u0440\u0430\u0437\u043d\u044b\u0445 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f\u0445. React \u0431\u0443\u0434\u0435\u0442 \u0441\u0432\u043e\u0435\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u0438\u0445 \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u0442\u044c, \u043a\u043e\u0433\u0434\u0430 \u0434\u0430\u043d\u043d\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u044f\u044e\u0442\u0441\u044f. \u0414\u0435\u043a\u043b\u0430\u0440\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0434\u0435\u043b\u0430\u044e\u0442 \u043a\u043e\u0434 \u0431\u043e\u043b\u0435\u0435 \u043f\u0440\u0435\u0434\u0441\u043a\u0430\u0437\u0443\u0435\u043c\u044b\u043c \u0438 \u0443\u043f\u0440\u043e\u0441\u0442\u044f\u0442 \u043e\u0442\u043b\u0430\u0434\u043a\u0443.")),r.a.createElement("div",{className:"main__wall__post"},r.a.createElement("h3",null,"\u041e\u0441\u043d\u043e\u0432\u0430\u043d \u043d\u0430 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430\u0445"),r.a.createElement("p",null,"\u0421\u043e\u0437\u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0438\u043d\u043a\u0430\u043f\u0441\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b \u0441 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u043c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435\u043c, \u0430 \u0437\u0430\u0442\u0435\u043c \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u044f\u0439\u0442\u0435 \u0438\u0445 \u0432 \u0441\u043b\u043e\u0436\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0435 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b. \u041f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443 \u043b\u043e\u0433\u0438\u043a\u0430 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0430 \u043d\u0430 JavaScript, \u0430 \u043d\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442\u0441\u044f \u0432 \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u0445, \u043c\u043e\u0436\u043d\u043e \u0441 \u043b\u0451\u0433\u043a\u043e\u0441\u0442\u044c\u044e \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0442\u044c \u0441\u0430\u043c\u044b\u0435 \u0440\u0430\u0437\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e \u0432\u0441\u0435\u043c\u0443 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044e \u0438 \u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0432\u043d\u0435 DOM.")),r.a.createElement("div",{className:"main__wall__post"},r.a.createElement("h3",null,"\u041d\u0430\u0443\u0447\u0438\u0442\u0435\u0441\u044c \u043e\u0434\u043d\u0430\u0436\u0434\u044b \u2014 \u043f\u0438\u0448\u0438\u0442\u0435 \u0433\u0434\u0435 \u0443\u0433\u043e\u0434\u043d\u043e"),r.a.createElement("p",null,"\u041d\u0430\u043c \u043d\u0435 \u043d\u0443\u0436\u043d\u043e \u043d\u0438\u0447\u0435\u0433\u043e \u0437\u043d\u0430\u0442\u044c \u043f\u0440\u043e \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u0443\u044e \u0447\u0430\u0441\u0442\u044c \u0432\u0430\u0448\u0435\u0433\u043e \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u0441\u0442\u0435\u043a\u0430, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0440\u0430\u0437\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043d\u0430 React, \u043d\u0435 \u0438\u0437\u043c\u0435\u043d\u044f\u044f \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u043a\u043e\u0434. React \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f Node.js \u0438 \u043d\u0430 \u043c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0445 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430\u0445, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f React Native."))),r.a.createElement(V.a,null))})),z={loginWithJWT:S};var M,$,H=Object(o.b)((function(e){return{username:e.user.username,token:e.user.token,loginWithJWT:S}}),z)((function(e){var t=e.loginWithJWT,a=e.token;return r.a.createElement(m.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:B},function(){var e=localStorage.getItem("token");return e||a?e&&!a?(t(e),r.a.createElement(i.a,{to:G})):r.a.createElement(i.a,{to:G}):r.a.createElement(i.a,{to:L})}()),r.a.createElement(i.b,{path:L,exact:!0,component:q}),r.a.createElement(i.b,{path:W,exact:!0,component:A}),r.a.createElement(i.b,{path:G,exact:!0,component:Q}))))})),K=a(27),Y=a(192),Z=Object(Y.a)((M={},Object(K.a)(M,h,(function(e){return"requested"})),Object(K.a)(M,_,(function(e,t){return t.payload})),Object(K.a)(M,v,(function(e){return"error"})),Object(K.a)(M,w,(function(e){return{}})),M),{}),ee=Object(Y.a)(($={},Object(K.a)($,O,(function(e){return"requested"})),Object(K.a)($,N,(function(e){return"register-success"})),Object(K.a)($,k,(function(e){return"register-error"})),$),{}),te=Object(u.c)({user:Z,registerStatus:ee});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ae=Object(u.e)(te,Object(u.d)(Object(u.a)(s.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));l.a.render(r.a.createElement(o.a,{classname:"store",store:ae},r.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[101,1,2]]]);
//# sourceMappingURL=main.616c9dd3.chunk.js.map